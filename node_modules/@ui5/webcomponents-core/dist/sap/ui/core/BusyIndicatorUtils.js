import BlockLayerUtils from './BlockLayerUtils.js';
import jQuery from '../thirdparty/jquery.js';
var BusyIndicatorUtils = function () {
};
BusyIndicatorUtils.getElement = function (sSize) {
    var sSizeClass = 'sapUiLocalBusyIndicatorSizeMedium';
    if (sSize === 'Large') {
        sSizeClass = 'sapUiLocalBusyIndicatorSizeBig';
    }
    var oContainer = document.createElement('div');
    oContainer.className = 'sapUiLocalBusyIndicator ' + sSizeClass + ' sapUiLocalBusyIndicatorFade';
    BlockLayerUtils.addAriaAttributes(oContainer);
    addAnimation(oContainer);
    return oContainer;
};
function addAnimation(oContainer, sSizeClass) {
    sSizeClass = sSizeClass || 'sapUiLocalBusyIndicatorAnimStandard';
    var oResBundle = sap.ui.getWCCore().getLibraryResourceBundle('sap.ui.core'), sTitle = oResBundle.getText('BUSY_TEXT');
    oContainer.setAttribute('title', sTitle);
    var oAnimation = document.createElement('div');
    oAnimation.className = 'sapUiLocalBusyIndicatorAnimation ' + sSizeClass;
    oAnimation.appendChild(document.createElement('div'));
    oAnimation.appendChild(document.createElement('div'));
    oAnimation.appendChild(document.createElement('div'));
    oContainer.appendChild(oAnimation);
}
function handleAutoAnimationSize(oBusyBlockState, sSize) {
    var oParentDOM = oBusyBlockState.$parent.get(0), oBlockLayerDOM = oBusyBlockState.$blockLayer.get(0);
    var oAnimation = oBlockLayerDOM.children[0], iWidth = oAnimation.offsetWidth;
    if (oParentDOM.offsetWidth < iWidth) {
        oAnimation.className = 'sapUiLocalBusyIndicatorAnimation sapUiLocalBusyIndicatorAnimSmall';
    }
}
BusyIndicatorUtils.addHTML = function (oBusyBlockState, sSize) {
    var sSizeClass = 'sapUiLocalBusyIndicatorSizeMedium', sAnimationSizeClass;
    switch (sSize) {
    case sap.ui.core.BusyIndicatorSize.Small:
        sSizeClass = 'sapUiLocalBusyIndicatorSizeMedium';
        sAnimationSizeClass = 'sapUiLocalBusyIndicatorAnimSmall';
        break;
    case sap.ui.core.BusyIndicatorSize.Large:
        sSizeClass = 'sapUiLocalBusyIndicatorSizeBig';
        sAnimationSizeClass = 'sapUiLocalBusyIndicatorAnimStandard';
        break;
    case sap.ui.core.BusyIndicatorSize.Auto:
        sSizeClass = 'sapUiLocalBusyIndicatorSizeMedium';
        sAnimationSizeClass = 'sapUiLocalBusyIndicatorAnimStandard';
        break;
    default:
        sSizeClass = 'sapUiLocalBusyIndicatorSizeMedium';
        sAnimationSizeClass = 'sapUiLocalBusyIndicatorAnimStandard';
        break;
    }
    var oParentDOM = oBusyBlockState.$parent.get(0), oBlockLayerDOM = oBusyBlockState.$blockLayer.get(0);
    oParentDOM.className += ' sapUiLocalBusy';
    oBlockLayerDOM.className += ' sapUiLocalBusyIndicator ' + sSizeClass + ' sapUiLocalBusyIndicatorFade';
    addAnimation(oBlockLayerDOM, sAnimationSizeClass);
    if (sSize === sap.ui.core.BusyIndicatorSize.Auto) {
        handleAutoAnimationSize(oBusyBlockState);
    }
    jQuery(oParentDOM).attr('aria-busy', true);
};
BusyIndicatorUtils.animateIE9 = {
    start: function () {
    },
    stop: function () {
    }
};
export default BusyIndicatorUtils;