var UriParameters = function (sUri) {
  this.mParams = {};
  var sQueryString = sUri;
  if (sQueryString) {
    if (sQueryString.indexOf("#") >= 0) {
      sQueryString = sQueryString.slice(0, sQueryString.indexOf("#"));
    }
    if (sQueryString.indexOf("?") >= 0) {
      sQueryString = sQueryString.slice(sQueryString.indexOf("?") + 1);
      var aParameters = sQueryString.split("&"), mParameters = {}, sName, sValue, iPos;
      for (var i = 0; i < aParameters.length; i++) {
        sName = aParameters[i];
        sValue = "";
        iPos = sName.indexOf("=");
        if (iPos >= 0) {
          sValue = decodeURIComponent(sName.slice(iPos + 1).replace(/\+/g, " "));
          sName = sName.slice(0, iPos);
        }
        sName = decodeURIComponent(sName.replace(/\+/g, " "));
        if (sName) {
          if (!Object.prototype.hasOwnProperty.call(mParameters, sName)) {
            mParameters[sName] = [];
          }
          mParameters[sName].push(sValue);
        }
      }
      this.mParams = mParameters;
    }
  }
};
UriParameters.prototype = {};
UriParameters.prototype.get = function (sName, bAll) {
  var aValues = Object.prototype.hasOwnProperty.call(this.mParams, sName) ? this.mParams[sName] : [];
  return bAll === true ? aValues : aValues[0] || null;
};
export default UriParameters;
